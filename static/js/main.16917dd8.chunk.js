(this.webpackJsonpnwitter=this.webpackJsonpnwitter||[]).push([[0],{257:function(e,t,a){e.exports=a(617)},391:function(e,t){},393:function(e,t){},403:function(e,t){},405:function(e,t){},430:function(e,t){},432:function(e,t){},433:function(e,t){},439:function(e,t){},441:function(e,t){},459:function(e,t){},461:function(e,t){},473:function(e,t){},476:function(e,t){},481:function(e,t){},483:function(e,t){},506:function(e,t){},613:function(e,t){},614:function(e,t){},616:function(e,t,a){},617:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(141),l=a.n(c),u=a(9),s=a(16),o=a(11),i=a(28),m=a.n(i),f=a(54),d=a(55);a(263),a(265),a(618);d.initializeApp({apiKey:"AIzaSyD_63J7rhbrWWK_BnRBRtrlgxrTzCB3Mog",authDomain:"classforum-bbcdb.firebaseapp.com",databaseURL:"classforum-bbcdb-default-rtdb.firebaseio.com",projectId:"classforum-bbcdb",storageBucket:"classforum-bbcdb.appspot.com",messagingSenderId:"106102165436",appId:"1:106102165436:web:caf2e4132003fedfe025b9"});var p=d.auth(),E=d.firestore(),b=d.storage(),h=function(e,t){function a(e){function t(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function a(e,t){return e>>>t|e<<32-t}function n(e,t){return e>>>t}function r(e,t,a){return e&t^~e&a}function c(e,t,a){return e&t^e&a^t&a}function l(e){return a(e,2)^a(e,13)^a(e,22)}function u(e){return a(e,6)^a(e,11)^a(e,25)}function s(e){return a(e,7)^a(e,18)^n(e,3)}return function(e){for(var t="0123456789abcdef",a="",n=0;n<4*e.length;n++)a+=t.charAt(e[n>>2]>>8*(3-n%4)+4&15)+t.charAt(e[n>>2]>>8*(3-n%4)&15);return a}(function(e,o){var i,m,f,d,p,E,b,h,g,v,O,j,y,N=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],x=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],w=[64];for(e[o>>5]|=128<<24-o%32,e[15+(o+64>>9<<4)]=o,g=0;g<e.length;g+=16){for(i=x[0],m=x[1],f=x[2],d=x[3],p=x[4],E=x[5],b=x[6],h=x[7],v=0;v<64;v++)w[v]=v<16?e[v+g]:t(t(t(a(y=w[v-2],17)^a(y,19)^n(y,10),w[v-7]),s(w[v-15])),w[v-16]),O=t(t(t(t(h,u(p)),r(p,E,b)),N[v]),w[v]),j=t(l(i),c(i,m,f)),h=b,b=E,E=p,p=t(d,O),d=f,f=m,m=i,i=t(O,j);x[0]=t(i,x[0]),x[1]=t(m,x[1]),x[2]=t(f,x[2]),x[3]=t(d,x[3]),x[4]=t(p,x[4]),x[5]=t(E,x[5]),x[6]=t(b,x[6]),x[7]=t(h,x[7])}return x}(function(e){for(var t=[],a=0;a<8*e.length;a+=8)t[a>>5]|=(255&e.charCodeAt(a/8))<<24-a%32;return t}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var n=e.charCodeAt(a);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e)),8*e.length))}var c=Object(n.useState)(""),l=Object(u.a)(c,2),s=l[0],o=l[1],i=Object(n.useState)(""),d=Object(u.a)(i,2),b=d[0],h=d[1],g=Object(n.useState)(""),v=Object(u.a)(g,2),O=v[0],j=v[1],y=Object(n.useState)(""),N=Object(u.a)(y,2),x=N[0],w=N[1],C=Object(n.useState)(!1),_=Object(u.a)(C,2),k=_[0],S=_[1],I=Object(n.useState)(""),B=Object(u.a)(I,2),L=B[0],F=B[1],A=function(e){var t=e.target,a=t.name,n=t.value;"email"===a?o(n):"password"===a?h(n):"repassword"===a?j(n):"nameInput"===a&&w(n)},U=function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!k){e.next=10;break}if(b===O){e.next=6;break}return alert("\ube44\ubc00\ubc88\ud638\uc640 \uc7ac\uc785\ub825\ud55c \ube44\ubc00\ubc88\ud638\uac00 \ub2e4\ub985\ub2c8\ub2e4."),e.abrupt("return");case 6:return e.next=8,p.createUserWithEmailAndPassword(s,b).then((function(e){E.collection("userInfo").doc(e.user.uid).set({displayName:x,email:s,password:a(b)})}));case 8:e.next=12;break;case 10:return e.next=12,p.signInWithEmailAndPassword(s,b);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),F(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:U,className:"container"},r.a.createElement("input",{name:"email",type:"email",placeholder:"\uc774\uba54\uc77c",required:!0,value:s,onChange:A,className:"authInput"}),r.a.createElement("input",{name:"password",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",required:!0,value:b,className:"authInput",onChange:A}),k&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{name:"repassword",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc785\ub825",required:!0,value:O,className:"authInput",onChange:A}),r.a.createElement("input",{name:"nameInput",type:"text",placeholder:"\uc774\ub984",required:!0,value:x,className:"authInput",onChange:A})),r.a.createElement("input",{type:"submit",className:"authInput authSubmit",value:k?"\ud68c\uc6d0\uac00\uc785":"\ub85c\uadf8\uc778"}),L&&r.a.createElement("span",{className:"authError"},L),r.a.createElement("span",{onClick:function(){return S((function(e){return!e}))},className:"authSwitch"},k?"\ub85c\uadf8\uc778":"\ud68c\uc6d0\uac00\uc785")))},g=function(e,t){return r.a.createElement("div",{className:"authContainer"},r.a.createElement("div",{className:"authTitle"},"2-10 \ud3ec\ub7fc"),r.a.createElement("div",{className:"authBtns"},r.a.createElement(h,{userObj:e,refreshUser:t})))},v=a(256),O=function(e){var t=e.nweetObj,a=e.num;return r.a.createElement("tr",{className:"nweet"},r.a.createElement("th",null,r.a.createElement(s.c,{to:"/detail/".concat(t.id)},r.a.createElement("h4",null,a+1,". ",t.title))))},j=function(e){var t=e.category,a=Object(n.useState)([]),c=Object(u.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){E.collection("nweets").where("category","==",t).get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(v.a)({id:e.id},e.data()))})),o(t)}))}),[t]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"center"},r.a.createElement(s.c,{to:"/new/"+t,className:"factoryInput__link"},"\uae00 \uc4f0\uae30")),r.a.createElement("table",{border:"10",bordercolor:"red",style:{marginTop:30}},r.a.createElement("tbody",null,l.map((function(e,t){return r.a.createElement(O,{key:e.id,nweetObj:e,num:t})})))))},y=function(e){var t=e.userObj,a=Object(o.f)(),c=Object(n.useState)(null),l=Object(u.a)(c,2),s=l[0],i=l[1];return E.collection("userInfo").doc(t.uid).get().then((function(e){i(e.data().displayName)})),r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"profile__nameHello"},s,"\ub2d8 \uc548\ub155\ud558\uc138\uc694."),r.a.createElement("span",{className:"formBtn cancelBtn logOut",onClick:function(){p.signOut(),alert("\ub85c\uadf8\uc544\uc6c3 \uc694\uccad\uc744 \uc815\uc0c1\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\uc600\uc2b5\ub2c8\ub2e4."),a.push("/")}},"\ub85c\uadf8\uc544\uc6c3"),r.a.createElement("div",{className:"center",style:{marginTop:50}},t.priority?r.a.createElement("div",{className:"post__creator"},"You are an admin."):r.a.createElement(r.a.Fragment,null)))},N=function(){return r.a.createElement("nav",{className:"gnb"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.c,{className:"navLink",to:"/"},"\ud648")),r.a.createElement("li",null,r.a.createElement(s.c,{className:"navLink",to:"/test"},r.a.createElement("span",null,"\uc218\ud589\ud3c9\uac00 \uac8c\uc2dc\ud310"))),r.a.createElement("li",null,r.a.createElement(s.c,{className:"navLink",to:"/schedule"},r.a.createElement("span",null,"\ud559\uc0ac\uc77c\uc815 \uac8c\uc2dc\ud310"))),r.a.createElement("li",null,r.a.createElement(s.c,{className:"navLink",to:"/free"},r.a.createElement("span",null,"\uc790\uc720 \uac8c\uc2dc\ud310"))),r.a.createElement("li",null,r.a.createElement(s.c,{className:"navLink",to:"/profile"},r.a.createElement("span",null,"\ud504\ub85c\ud544")))))},x=a(252),w=a(253),C=(a(147),function(e){var t=e.userObj,a=Object(o.g)().postId,c=Object(n.useState)(""),l=Object(u.a)(c,2),s=l[0],i=l[1],d=Object(n.useState)(""),p=Object(u.a)(d,2),b=p[0],h=p[1],g=Object(n.useState)(""),v=Object(u.a)(g,2),O=v[0],j=v[1],y=Object(n.useState)(""),N=Object(u.a)(y,2),C=N[0],_=N[1],k=Object(n.useState)(""),S=Object(u.a)(k,2),I=S[0],B=S[1],L=Object(o.f)();Object(n.useEffect)((function(){E.collection("nweets").doc(a).get().then((function(e){e.exists?(j(e.data().creatorId),_(e.data().creatorName),h(e.data().desc),i(e.data().title),B(e.data().createdAt)):alert("\uc0ad\uc81c\ub418\uc5c8\uac70\ub098 \uc5c6\ub294 \uac8c\uc2dc\ubb3c\uc785\ub2c8\ub2e4.")})).catch((function(e){console.log(e)}))}));var F=function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=5;break}return e.next=4,E.doc("nweets/".concat(a)).delete();case 4:L.push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"post__title"},s,O===t.uid||t.priority?r.a.createElement("span",{onClick:F},r.a.createElement(x.a,{icon:w.a,size:"xs",className:"trashIcon"})):r.a.createElement(r.a.Fragment,null)),r.a.createElement("hr",{className:"post__hr"}),r.a.createElement("div",{className:"post__desc"},r.a.createElement("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:b}}),r.a.createElement("div",{className:"post__creator"},C),r.a.createElement("div",{className:"post__creator"},I)))}),_=a(254),k=a.n(_),S={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],[{align:[]},{color:[]},{background:[]}],["clean"]]},I=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","align","color","background"],B=function(e){var t=e.value,a=e.onChange;return r.a.createElement("div",{className:"postfactory",style:{height:"650px"}},r.a.createElement(k.a,{style:{height:"600px"},theme:"snow",modules:S,formats:I,value:t||"",onChange:a}))},L=a(620),F=function(e){var t=e.title,a=e.onChange,n=e.category,c=e.onCategoryChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"factoryInput__title",value:t||"",onChange:a,type:"text",placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.",maxLength:120}),r.a.createElement("form",null,r.a.createElement("select",{className:"titleFactory__select",value:n,onChange:c},r.a.createElement("option",{disabled:!0,hidden:!0},"\uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."),r.a.createElement("option",null,"\uc218\ud589\ud3c9\uac00 \uac8c\uc2dc\ud310"),r.a.createElement("option",null,"\ud559\uc0ac\uc77c\uc815 \uac8c\uc2dc\ud310"),r.a.createElement("option",null,"\uc790\uc720 \uac8c\uc2dc\ud310"))))},A=function(e){var t=e.userObj,a=Object(n.useState)(""),c=Object(u.a)(a,2),l=c[0],s=c[1],i=Object(n.useState)(""),d=Object(u.a)(i,2),p=d[0],h=d[1],g=Object(n.useState)("\uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."),v=Object(u.a)(g,2),O=v[0],j=v[1],y=Object(n.useState)(""),N=Object(u.a)(y,2),x=N[0],w=N[1],C=Object(o.f)(),_=-1,k="";E.collection("userInfo").doc(t.uid).get().then((function(e){w(e.data().displayName)}));var S=function(){var e=Object(f.a)(m.a.mark((function e(a){var n,r,c,u,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k=p,""!==l){e.next=7;break}return alert("\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694."),document.getElementsByClassName("factoryInput__title")[0].focus(),e.abrupt("return");case 7:if("\uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."!==O){e.next=13;break}return alert("\uce74\ud14c\uace0\ub9ac\ub97c \uc120\ud0dd\ud558\uc138\uc694."),document.getElementsByClassName("titleFactory__select")[0].focus(),e.abrupt("return");case 13:if(""!==p){e.next=17;break}return alert("\ubcf8\ubb38\uc744 \uc785\ub825\ud558\uc138\uc694."),document.getElementsByClassName("ql-editor")[0].focus(),e.abrupt("return");case 17:document.getElementsByClassName("factoryInput__arrow")[0].value="\uac8c\uc2dc\uc911...";case 18:if(n=k.indexOf('<img src="',_),_=k.indexOf('">',n+1),-1!==n){e.next=23;break}return e.abrupt("break",35);case 23:return r=b.ref().child("".concat(t.uid,"/").concat(Object(L.a)())),e.next=26,r.putString(k.substring(n+10,_),"data_url");case 26:return c=e.sent,e.next=29,c.ref.getDownloadURL();case 29:u=e.sent,k=k.substring(0,n+10)+u+k.substring(_,k.length),_=k.indexOf('">',n+1),console.log(k),e.next=18;break;case 35:return a.preventDefault(),o=(new Date).toLocaleString(),console.log(x),i={title:l,desc:k,category:O,createdAt:o,creatorId:t.uid,creatorName:x},e.next=41,E.collection("nweets").add(i);case 41:s(""),h(""),C.push("/");case 44:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:S,className:"factoryForm"},r.a.createElement("div",null,r.a.createElement(F,{title:l,onChange:function(e){var t=e.target.value;s(t)},category:O,onCategoryChange:function(e){var t=e.target.value;j(t)},className:"titlefactory"}),r.a.createElement(B,{value:p,onChange:h}),r.a.createElement("div",{className:"center"},r.a.createElement("input",{type:"submit",value:"\uac8c\uc2dc",className:"factoryInput__arrow"}))))},U=a(255),T=new(a.n(U).a),q=function(){T.init(),console.log("init finish"),T.setSchool("\ub355\uc774\uc911\ud559\uad50"),console.log("setschool finish");var e=T.getTimetable();return console.log("get timetable finish"),console.log(e),r.a.createElement("div",null,"TimeTable")},P=function(){return r.a.createElement("div",{className:"home__title"},r.a.createElement("section",{className:"scontainer"},r.a.createElement("h1",{className:"title"},r.a.createElement("span",null,"\uc548\ub155\ud558\uc138\uc694"),r.a.createElement("span",null,"2-10 \ud3ec\ub7fc\uc5d0 \uc624\uc2e0 \uac83\uc744"),r.a.createElement("span",null,"\ud658\uc601\ud569\ub2c8\ub2e4.")),r.a.createElement("h2",{className:"title"},r.a.createElement("span",null,"\uc774 \uc0ac\uc774\ud2b8\ub294 \uc815\ubcf4\ub97c"),r.a.createElement("span",null,"\uc27d\uace0 \ube60\ub974\uac8c \uacf5\uc720\ud558\uae30 \uc704\ud55c"),r.a.createElement("span",null,"\uc0ac\uc774\ud2b8\uc785\ub2c8\ub2e4."))),r.a.createElement(s.c,{to:"/new"},r.a.createElement("span",{className:"home__link"},"\uae00\uc4f0\uae30")))},z=function(e){var t=e.refreshUser,a=e.isLoggedIn,n=e.userObj;return r.a.createElement(s.b,null,a&&r.a.createElement(N,null),r.a.createElement(o.c,null,r.a.createElement(r.a.Fragment,null,a?r.a.createElement("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:50,display:"flex",flexWrap:"wrap",justifyContent:"center"}},r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(P,null)),r.a.createElement(o.a,{exact:!0,path:"/test"},r.a.createElement(j,{userObj:n,category:"\uc218\ud589\ud3c9\uac00 \uac8c\uc2dc\ud310"})),r.a.createElement(o.a,{exact:!0,path:"/schedule"},r.a.createElement(j,{userObj:n,category:"\ud559\uc0ac\uc77c\uc815 \uac8c\uc2dc\ud310"})),r.a.createElement(o.a,{exact:!0,path:"/free"},r.a.createElement(j,{userObj:n,category:"\uc790\uc720 \uac8c\uc2dc\ud310"})),r.a.createElement(o.a,{exact:!0,path:"/profile"},r.a.createElement(y,{userObj:n,refreshUser:t})),r.a.createElement(o.a,{exact:!0,path:"/detail/:postId"},r.a.createElement(C,{userObj:n})),r.a.createElement(o.a,{exact:!0,path:"/new"},r.a.createElement(A,{userObj:n,refreshUser:t})),r.a.createElement(o.a,{exact:!0,path:"/new/:category"},r.a.createElement(A,{userObj:n})),r.a.createElement(o.a,{exact:!0,path:"/time"},r.a.createElement(q,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(g,{userObj:n,refreshUser:t}))))))};var D=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(u.a)(l,2),i=o[0],m=o[1];return Object(n.useEffect)((function(){var e=["GIlYEEsfxsOOxPZQdcz7EfLrBdg1"];p.onAuthStateChanged((function(t){if(t){var a=e.includes(t.uid)?1:0;m({displayName:t.displayName,uid:t.uid,priority:a,updateProfile:function(e){return t.updateProfile(e)}})}else m(null);c(!0)}))}),[]),r.a.createElement(r.a.Fragment,null,a?r.a.createElement(s.a,null,r.a.createElement(z,{refreshUser:function(){var e=p.currentUser,t=["GIlYEEsfxsOOxPZQdcz7EfLrBdg1"].includes(e.uid)?1:0;m({displayName:e.displayName,uid:e.uid,priority:t,updateProfile:function(t){return e.updateProfile(t)}})},isLoggedIn:Boolean(i),userObj:i})):"Initializing...")};a(616);l.a.render(r.a.createElement(D,null),document.getElementById("root"))}},[[257,1,2]]]);
//# sourceMappingURL=main.16917dd8.chunk.js.map