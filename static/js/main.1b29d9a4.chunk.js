(this.webpackJsonpnwitter=this.webpackJsonpnwitter||[]).push([[0],{125:function(e,t,a){e.exports=a(249)},248:function(e,t,a){},249:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(76),l=a.n(c),s=a(9),u=a(12),o=a(11),i=a(29),m=a.n(i),d=a(34),f=a(37);a(131),a(133),a(250);f.initializeApp({apiKey:"AIzaSyD_63J7rhbrWWK_BnRBRtrlgxrTzCB3Mog",authDomain:"classforum-bbcdb.firebaseapp.com",databaseURL:"classforum-bbcdb-default-rtdb.firebaseio.com",projectId:"classforum-bbcdb",storageBucket:"classforum-bbcdb.appspot.com",messagingSenderId:"106102165436",appId:"1:106102165436:web:caf2e4132003fedfe025b9"});var p=f.auth(),b=f.firestore(),E=f.storage(),h=function(e,t){function a(e){function t(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function a(e,t){return e>>>t|e<<32-t}function n(e,t){return e>>>t}function r(e,t,a){return e&t^~e&a}function c(e,t,a){return e&t^e&a^t&a}function l(e){return a(e,2)^a(e,13)^a(e,22)}function s(e){return a(e,6)^a(e,11)^a(e,25)}function u(e){return a(e,7)^a(e,18)^n(e,3)}return function(e){for(var t="0123456789abcdef",a="",n=0;n<4*e.length;n++)a+=t.charAt(e[n>>2]>>8*(3-n%4)+4&15)+t.charAt(e[n>>2]>>8*(3-n%4)&15);return a}(function(e,o){var i,m,d,f,p,b,E,h,g,v,j,O,y,N=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],x=[64];for(e[o>>5]|=128<<24-o%32,e[15+(o+64>>9<<4)]=o,g=0;g<e.length;g+=16){for(i=_[0],m=_[1],d=_[2],f=_[3],p=_[4],b=_[5],E=_[6],h=_[7],v=0;v<64;v++)x[v]=v<16?e[v+g]:t(t(t(a(y=x[v-2],17)^a(y,19)^n(y,10),x[v-7]),u(x[v-15])),x[v-16]),j=t(t(t(t(h,s(p)),r(p,b,E)),N[v]),x[v]),O=t(l(i),c(i,m,d)),h=E,E=b,b=p,p=t(f,j),f=d,d=m,m=i,i=t(j,O);_[0]=t(i,_[0]),_[1]=t(m,_[1]),_[2]=t(d,_[2]),_[3]=t(f,_[3]),_[4]=t(p,_[4]),_[5]=t(b,_[5]),_[6]=t(E,_[6]),_[7]=t(h,_[7])}return _}(function(e){for(var t=[],a=0;a<8*e.length;a+=8)t[a>>5]|=(255&e.charCodeAt(a/8))<<24-a%32;return t}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var n=e.charCodeAt(a);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e)),8*e.length))}var c=Object(n.useState)(""),l=Object(s.a)(c,2),o=l[0],i=l[1],f=Object(n.useState)(""),E=Object(s.a)(f,2),h=E[0],g=E[1],v=Object(n.useState)(""),j=Object(s.a)(v,2),O=j[0],y=j[1],N=Object(n.useState)(""),_=Object(s.a)(N,2),x=_[0],w=_[1],k=Object(n.useState)(!1),C=Object(s.a)(k,2),S=C[0],I=C[1],B=Object(n.useState)(""),T=Object(s.a)(B,2),A=T[0],F=T[1],L=function(e){var t=e.target,a=t.name,n=t.value;"email"===a?i(n):"password"===a?g(n):"repassword"===a?y(n):"nameInput"===a&&w(n)},q=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!S){e.next=10;break}if(h===O){e.next=6;break}return alert("\ube44\ubc00\ubc88\ud638\uc640 \uc7ac\uc785\ub825\ud55c \ube44\ubc00\ubc88\ud638\uac00 \ub2e4\ub985\ub2c8\ub2e4."),e.abrupt("return");case 6:return e.next=8,p.createUserWithEmailAndPassword(o,h).then((function(e){b.collection("userInfo").doc(e.user.uid).set({displayName:x,email:o,password:a(h)})}));case 8:e.next=12;break;case 10:return e.next=12,p.signInWithEmailAndPassword(o,h);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),F(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:q,className:"container"},r.a.createElement("input",{name:"email",type:"email",placeholder:"\uc774\uba54\uc77c",required:!0,value:o,onChange:L,className:"authInput"}),r.a.createElement("input",{name:"password",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",required:!0,value:h,className:"authInput",onChange:L}),S&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{name:"repassword",type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc785\ub825",required:!0,value:O,className:"authInput",onChange:L}),r.a.createElement("input",{name:"nameInput",type:"text",placeholder:"\uc774\ub984",required:!0,value:x,className:"authInput",onChange:L})),r.a.createElement("input",{type:"submit",className:"authInput authSubmit",value:S?"\ud68c\uc6d0\uac00\uc785":"\ub85c\uadf8\uc778"}),A&&r.a.createElement("span",{className:"authError"},A),r.a.createElement("span",{onClick:function(){return I((function(e){return!e}))},className:"authSwitch"},S?"\ub85c\uadf8\uc778":"\ud68c\uc6d0\uac00\uc785"),r.a.createElement(u.c,{to:"/time",className:"authInput timeSubmit"},"\uc2dc\uac04\ud45c")))},g=function(e,t){return r.a.createElement("div",{className:"authContainer"},r.a.createElement("div",{className:"authTitle"},"2-10 \ud3ec\ub7fc"),r.a.createElement("div",{className:"authBtns"},r.a.createElement(h,{userObj:e,refreshUser:t})))},v=a(124),j=function(e){var t=e.nweetObj,a=e.num;return r.a.createElement("tr",{className:"nweet"},r.a.createElement("th",null,r.a.createElement(u.c,{to:"/detail/".concat(t.id)},r.a.createElement("h4",null,a+1,". ",t.title))))},O=function(e){var t=e.category,a=Object(n.useState)([]),c=Object(s.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){b.collection("nweets").where("category","==",t).get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(v.a)({id:e.id},e.data()))})),o(t)}))}),[t]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"center"},r.a.createElement(u.c,{to:"/new/"+t,className:"factoryInput__link"},"\uae00 \uc4f0\uae30")),r.a.createElement("table",{border:"10",bordercolor:"red",style:{marginTop:30}},r.a.createElement("tbody",null,l.map((function(e,t){return r.a.createElement(j,{key:e.id,nweetObj:e,num:t})})))))},y=a(116),N=a(35);function _(){var e=Object(y.a)(["\n        {\n            week(weekday: ",") {\n                grade\n                class\n                weekdayString\n                classTime\n                teacher\n                subject\n            }\n        }\n    "]);return _=function(){return e},e}var x=function(){var e=new Date,t=e.getDay()-1,a=Object(N.gql)(_(),t),n=Object(N.useQuery)(a).data,c=n?n.week:null;return r.a.createElement("div",{className:"profile__title"},r.a.createElement("div",{className:"profile__timeTable__Title"},"<".concat(e.getMonth()+1,"\uc6d4 ").concat(e.getDate(),"\uc77c \uc2dc\uac04\ud45c>")),r.a.createElement("table",{className:"profile__timeTable"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"profile__timeTable__tr"},r.a.createElement("th",null,"\uad50\uc2dc"),r.a.createElement("th",null,"\uacfc\ubaa9"))),r.a.createElement("tbody",{className:"profile__timeTable"},c&&c.map((function(e,t){return e.subject?r.a.createElement("tr",{className:"profile__timeTable__tr",key:"table"+e.subject},r.a.createElement("td",{key:"index"+e.subject,className:"profile__timeTable__content"},t+1+"\uad50\uc2dc"),r.a.createElement("td",{key:"time"+e.subject,className:"profile__timeTable__subject"},e.subject)):null})))))},w=function(e){var t=e.userObj,a=Object(o.f)(),c=Object(n.useState)(null),l=Object(s.a)(c,2),u=l[0],i=l[1];return b.collection("userInfo").doc(t.uid).get().then((function(e){i(e.data().displayName)})),r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"profile__nameHello"},u,"\ub2d8 \uc548\ub155\ud558\uc138\uc694."),r.a.createElement(x,null),r.a.createElement("span",{className:"formBtn cancelBtn logOut",onClick:function(){p.signOut(),alert("\ub85c\uadf8\uc544\uc6c3 \uc694\uccad\uc744 \uc815\uc0c1\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\uc600\uc2b5\ub2c8\ub2e4."),a.push("/")}},"\ub85c\uadf8\uc544\uc6c3"),r.a.createElement("div",{className:"center",style:{marginTop:50}},t.priority?r.a.createElement("div",{className:"post__creator"},"You are an admin."):r.a.createElement(r.a.Fragment,null)))},k=function(){return r.a.createElement("nav",{className:"gnb"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(u.c,{className:"navLink",to:"/"},"\ud648")),r.a.createElement("li",null,r.a.createElement(u.c,{className:"navLink",to:"/test"},r.a.createElement("span",null,"\uc218\ud589\ud3c9\uac00 \uac8c\uc2dc\ud310"))),r.a.createElement("li",null,r.a.createElement(u.c,{className:"navLink",to:"/schedule"},r.a.createElement("span",null,"\ud559\uc0ac\uc77c\uc815 \uac8c\uc2dc\ud310"))),r.a.createElement("li",null,r.a.createElement(u.c,{className:"navLink",to:"/free"},r.a.createElement("span",null,"\uc790\uc720 \uac8c\uc2dc\ud310"))),r.a.createElement("li",null,r.a.createElement(u.c,{className:"navLink",to:"/profile"},r.a.createElement("span",null,"\ud504\ub85c\ud544")))))},C=a(121),S=a(122),I=(a(92),function(e){var t=e.userObj,a=Object(o.g)().postId,c=Object(n.useState)(""),l=Object(s.a)(c,2),u=l[0],i=l[1],f=Object(n.useState)(""),p=Object(s.a)(f,2),E=p[0],h=p[1],g=Object(n.useState)(""),v=Object(s.a)(g,2),j=v[0],O=v[1],y=Object(n.useState)(""),N=Object(s.a)(y,2),_=N[0],x=N[1],w=Object(n.useState)(""),k=Object(s.a)(w,2),I=k[0],B=k[1],T=Object(o.f)();Object(n.useEffect)((function(){b.collection("nweets").doc(a).get().then((function(e){e.exists?(O(e.data().creatorId),x(e.data().creatorName),h(e.data().desc),i(e.data().title),B(e.data().createdAt)):alert("\uc0ad\uc81c\ub418\uc5c8\uac70\ub098 \uc5c6\ub294 \uac8c\uc2dc\ubb3c\uc785\ub2c8\ub2e4.")})).catch((function(e){console.log(e)}))}));var A=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=5;break}return e.next=4,b.doc("nweets/".concat(a)).delete();case 4:T.push("/");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"post__title"},u,j===t.uid||t.priority?r.a.createElement("span",{onClick:A},r.a.createElement(C.a,{icon:S.a,size:"xs",className:"trashIcon"})):r.a.createElement(r.a.Fragment,null)),r.a.createElement("hr",{className:"post__hr"}),r.a.createElement("div",{className:"post__desc"},r.a.createElement("div",{className:"ql-editor",dangerouslySetInnerHTML:{__html:E}}),r.a.createElement("div",{className:"post__creator"},_),r.a.createElement("div",{className:"post__creator"},I)))}),B=a(123),T=a.n(B),A={toolbar:[[{header:[1,2,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],[{align:[]},{color:[]},{background:[]}],["clean"]]},F=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","align","color","background"],L=function(e){var t=e.value,a=e.onChange;return r.a.createElement("div",{className:"postfactory",style:{height:"650px"}},r.a.createElement(T.a,{style:{height:"600px"},theme:"snow",modules:A,formats:F,value:t||"",onChange:a}))},q=a(252),D=function(e){var t=e.title,a=e.onChange,n=e.category,c=e.onCategoryChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"factoryInput__title",value:t||"",onChange:a,type:"text",placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.",maxLength:120}),r.a.createElement("form",null,r.a.createElement("select",{className:"titleFactory__select",value:n,onChange:c},r.a.createElement("option",{disabled:!0,hidden:!0},"\uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."),r.a.createElement("option",null,"\uc218\ud589\ud3c9\uac00 \uac8c\uc2dc\ud310"),r.a.createElement("option",null,"\ud559\uc0ac\uc77c\uc815 \uac8c\uc2dc\ud310"),r.a.createElement("option",null,"\uc790\uc720 \uac8c\uc2dc\ud310"))))},U=function(e){var t=e.userObj,a=Object(n.useState)(""),c=Object(s.a)(a,2),l=c[0],u=c[1],i=Object(n.useState)(""),f=Object(s.a)(i,2),p=f[0],h=f[1],g=Object(n.useState)("\uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."),v=Object(s.a)(g,2),j=v[0],O=v[1],y=Object(n.useState)(""),N=Object(s.a)(y,2),_=N[0],x=N[1],w=Object(o.f)(),k=-1,C="";b.collection("userInfo").doc(t.uid).get().then((function(e){x(e.data().displayName)}));var S=function(){var e=Object(d.a)(m.a.mark((function e(a){var n,r,c,s,o,i,d,f;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C=p,""!==l){e.next=7;break}return alert("\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694."),document.getElementsByClassName("factoryInput__title")[0].focus(),e.abrupt("return");case 7:if("\uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."!==j){e.next=13;break}return alert("\uce74\ud14c\uace0\ub9ac\ub97c \uc120\ud0dd\ud558\uc138\uc694."),document.getElementsByClassName("titleFactory__select")[0].focus(),e.abrupt("return");case 13:if(""!==p){e.next=17;break}return alert("\ubcf8\ubb38\uc744 \uc785\ub825\ud558\uc138\uc694."),document.getElementsByClassName("ql-editor")[0].focus(),e.abrupt("return");case 17:document.getElementsByClassName("factoryInput__arrow")[0].value="\uac8c\uc2dc\uc911...";case 18:if(n=C.indexOf('<img src="',k),k=C.indexOf('">',n+1),-1!==n){e.next=23;break}return e.abrupt("break",35);case 23:return r=E.ref().child("".concat(t.uid,"/").concat(Object(q.a)())),e.next=26,r.putString(C.substring(n+10,k),"data_url");case 26:return c=e.sent,e.next=29,c.ref.getDownloadURL();case 29:s=e.sent,C=C.substring(0,n+10)+s+C.substring(k,C.length),k=C.indexOf('">',n+1),console.log(C),e.next=18;break;case 35:return a.preventDefault(),o=new Date,i=o.getHours()<12?"\uc624\uc804 "+o.getHours():"\uc624\ud6c4 "+(o.getHours()-12),d="".concat(o.getFullYear(),"\ub144 ").concat(o.getMonth()+1,"\uc6d4 ").concat(o.getDate(),"\uc77c ").concat(i,"\uc2dc ").concat(o.getMinutes(),"\ubd84 ").concat(o.getSeconds(),"\ucd08"),console.log(_),f={title:l,desc:C,category:j,createdAt:d,creatorId:t.uid,creatorName:_},e.next=43,b.collection("nweets").add(f);case 43:u(""),h(""),w.push("/");case 46:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:S,className:"factoryForm"},r.a.createElement("div",null,r.a.createElement(D,{title:l,onChange:function(e){var t=e.target.value;u(t)},category:j,onCategoryChange:function(e){var t=e.target.value;O(t)},className:"titlefactory"}),r.a.createElement(L,{value:p,onChange:h}),r.a.createElement("div",{className:"center"},r.a.createElement("input",{type:"submit",value:"\uac8c\uc2dc",className:"factoryInput__arrow"}))))},P=function(){return r.a.createElement("div",{className:"home__title"},r.a.createElement("section",{className:"scontainer"},r.a.createElement("h1",{className:"title"},r.a.createElement("span",null,"\uc548\ub155\ud558\uc138\uc694"),r.a.createElement("span",null,"2-10 \ud3ec\ub7fc\uc5d0 \uc624\uc2e0 \uac83\uc744"),r.a.createElement("span",null,"\ud658\uc601\ud569\ub2c8\ub2e4.")),r.a.createElement("h2",{className:"title"},r.a.createElement("span",null,"\uc774 \uc0ac\uc774\ud2b8\ub294 \uc815\ubcf4\ub97c"),r.a.createElement("span",null,"\uc27d\uace0 \ube60\ub974\uac8c \uacf5\uc720\ud558\uae30 \uc704\ud55c"),r.a.createElement("span",null,"\uc0ac\uc774\ud2b8\uc785\ub2c8\ub2e4."))),r.a.createElement(u.c,{to:"/new"},r.a.createElement("span",{className:"home__link"},"\uae00\uc4f0\uae30")))},z=function(){return r.a.createElement("div",{className:"timetable__background"},r.a.createElement(x,null))},M=function(e){var t=e.refreshUser,a=e.isLoggedIn,n=e.userObj;return r.a.createElement(u.b,null,a&&r.a.createElement(k,null),r.a.createElement(o.c,null,r.a.createElement(r.a.Fragment,null,a?r.a.createElement("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:50,display:"flex",flexWrap:"wrap",justifyContent:"center"}},r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(P,null)),r.a.createElement(o.a,{exact:!0,path:"/test"},r.a.createElement(O,{userObj:n,category:"\uc218\ud589\ud3c9\uac00 \uac8c\uc2dc\ud310"})),r.a.createElement(o.a,{exact:!0,path:"/schedule"},r.a.createElement(O,{userObj:n,category:"\ud559\uc0ac\uc77c\uc815 \uac8c\uc2dc\ud310"})),r.a.createElement(o.a,{exact:!0,path:"/free"},r.a.createElement(O,{userObj:n,category:"\uc790\uc720 \uac8c\uc2dc\ud310"})),r.a.createElement(o.a,{exact:!0,path:"/profile"},r.a.createElement(w,{userObj:n,refreshUser:t})),r.a.createElement(o.a,{exact:!0,path:"/detail/:postId"},r.a.createElement(I,{userObj:n})),r.a.createElement(o.a,{exact:!0,path:"/new"},r.a.createElement(U,{userObj:n,refreshUser:t})),r.a.createElement(o.a,{exact:!0,path:"/new/:category"},r.a.createElement(U,{userObj:n})),r.a.createElement(o.a,{exact:!0,path:"/time"},r.a.createElement(z,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(g,{userObj:n,refreshUser:t})),r.a.createElement(o.a,{exact:!0,path:"/detail/:postId"},r.a.createElement(I,{userObj:n})),r.a.createElement(o.a,{exact:!0,path:"/time"},r.a.createElement(z,null))))))};var W=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(s.a)(l,2),i=o[0],m=o[1];return Object(n.useEffect)((function(){var e=["GIlYEEsfxsOOxPZQdcz7EfLrBdg1"];p.onAuthStateChanged((function(t){if(t){var a=e.includes(t.uid)?1:0;m({displayName:t.displayName,uid:t.uid,priority:a,updateProfile:function(e){return t.updateProfile(e)}})}else m(null);c(!0)}))}),[]),r.a.createElement(r.a.Fragment,null,a?r.a.createElement(u.a,null,r.a.createElement(M,{refreshUser:function(){var e=p.currentUser,t=["GIlYEEsfxsOOxPZQdcz7EfLrBdg1"].includes(e.uid)?1:0;m({displayName:e.displayName,uid:e.uid,priority:t,updateProfile:function(t){return e.updateProfile(t)}})},isLoggedIn:Boolean(i),userObj:i})):"Initializing...")},H=(a(248),a(59)),R=new N.ApolloClient({uri:"http://ubuntu.kinqq.live:4000/",cache:new N.InMemoryCache});l.a.render(r.a.createElement(H.ApolloProvider,{client:R},r.a.createElement(W,null)),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.1b29d9a4.chunk.js.map